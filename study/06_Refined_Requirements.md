# 6. 요구사항 분석 및 향후 작업 상세 가이드 (Refined Requirements)

`docs/요구사항명세.md` (v3.1)를 기반으로 현재 프론트엔드 프로젝트의 변경 사항과 향후 개발 로드맵을 상세히 정리한 문서입니다.

---

## 1. 인증 및 권한 (Authentication & RBAC)

단순 로그인뿐만 아니라 **사용자 역할(Role)**과 **가입 승인(Approval)** 프로세스가 추가되었습니다.

### 1.1. 변경 사항 (v3.1 반영)
*   **Role 구분**: `ROLE_ADMIN` (원장) vs `ROLE_INSTRUCTOR` (강사).
*   **가입 프로세스**:
    1.  구글 로그인 시도 -> 백엔드에서 `404 Not Found` (미가입) 응답.
    2.  프론트엔드에서 `/signup` 페이지로 이동.
    3.  필수 정보 입력 후 `POST /signup`.
        *   **필수**: 이름, 전화번호, **이메일(알림용)**, 역할.
        *   **삭제됨**: 은행 계좌 정보 (보안상 제거).
    4.  백엔드에서 `PENDING` 상태로 저장.
    5.  이후 로그인 시도 시 `403 Forbidden` (승인 대기) 응답 -> "승인 대기 중" 화면 표시.
    6.  원장 승인(`ACTIVE`) 후 정상 로그인 가능.

### 1.2. 작업 필요 항목
*   [ ] **`authStore.ts` 업데이트**: `user` 객체에 `role`, `status` 속성 추가.
*   [x] **`SignupPage` 구현**: `react-hook-form`을 사용한 회원가입 폼 (UI 완료).
*   [ ] **`PendingPage` 구현**: 승인 대기 안내 페이지.
*   [ ] **로그인 로직 수정**: 404, 403 에러 핸들링 추가.

---

## 2. 핵심 기능: 스마트 캘린더 (Smart Calendar)

### 2.1. 요구사항 상세
*   **시각적 구분**: 판서 수업(블록) vs 개별 진도(텍스트).
*   **충돌 감지**: 수업 시간 겹침 시 `409 Conflict` 처리 및 강제 저장 모달.

### 2.2. 작업 필요 항목
*   [ ] **`FullCalendar` 커스텀 렌더링**: `eventContent` 구현.
*   [ ] **충돌 해결 모달**: 강제 저장 로직 구현.

---

## 3. 데이터 관리 (CRUD)

### 3.1. 수강생 관리 (`/students`)
*   목록, 등록, 수정, 삭제.
*   **필수**: 학부모 연락처, 생년월일(보안용).

### 3.2. 강의 관리 (`/lectures`)
*   강의 개설 및 **수강생 배정(Enrollment)**.
*   수강생 검색 및 다중 선택 모달 필요.

### 3.3. 강사 관리 (`/instructors`) - *Admin Only*
*   **승인 대기자 목록** 조회 및 **승인(Approve)** 버튼 구현.

---

## 4. 수업 기록 및 알림 (LMS Core)

*   **수업 일지 모달**: 출결, 시간, 내용 입력.
*   **학부모 알림**: 저장 시 알림 발송 옵션 제공.

---

## 5. 학부모용 웹뷰 (Public Web View)

*   **경로**: `/report/:uuid` (로그인 불필요).
*   **인증**: 생년월일 입력 모달.
*   **내용**: 일지 및 학습 타임라인.

---

## 6. 상세 개발 스케줄 (Development Schedule)

오늘(1일차)을 기준으로 향후 2주간의 작업 계획입니다.

### 📅 1주차: 인증 완성 및 기초 데이터 구축

| 일차 | 작업 내용 | 상세 항목 | 상태 |
| :--- | :--- | :--- | :--- |
| **Day 1** | **기반 구축 & 기획** | 프로젝트 셋업, 라우팅, 기획서 확정, **회원가입 페이지 UI** | **완료** ✅ |
| **Day 2** | **인증 프로세스 (1)** | `SignupPage` API 연동, `authStore` 고도화 | 예정 |
| **Day 3** | **인증 프로세스 (2)** | 로그인 에러 핸들링(404/403), 승인 대기 페이지 | 예정 |
| **Day 4** | **강사 관리 (Admin)** | 강사 목록 조회 및 **가입 승인** 기능 구현 | 예정 |
| **Day 5** | **수강생 관리 (CRUD)** | 수강생 목록/등록/수정 페이지 구현 | 예정 |
| **Day 6** | **강의 관리 (CRUD)** | 강의 개설 및 수강생 배정 UI 구현 | 예정 |
| **Day 7** | **중간 점검** | 1주차 기능 테스트 및 버그 수정 | 예정 |

### 📅 2주차: 핵심 비즈니스 로직 (캘린더 & LMS)

| 일차 | 작업 내용 | 상세 항목 |
| :--- | :--- | :--- |
| **Day 8** | **캘린더 고도화** | 수업 유형별 스타일링, 일정 드래그 수정 |
| **Day 9** | **수업 일지 (1)** | 일지 작성 모달 UI, 출결 처리 로직 |
| **Day 10** | **수업 일지 (2)** | **충돌 감지** 로직 및 강제 저장 모달 구현 |
| **Day 11** | **학부모 웹뷰** | 퍼블릭 레이아웃, 생일 인증, 리포트 화면 |
| **Day 12** | **알림 연동** | 일지 저장 시 알림 발송 옵션 처리 |
| **Day 13** | **정산 기초** | 정산 대시보드 UI 및 차트 라이브러리 도입 |
| **Day 14** | **최종 점검** | 전체 기능 테스트 및 배포 준비 |
